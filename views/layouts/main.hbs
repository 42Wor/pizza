<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Jee Bhai Cafe - High Quality Fast Food & Pizza in Pakistan" />
  <meta name="keywords" content="pizza, fast food, burger, jee bhai cafe, pakistan" />
  
  <title>{{title}}</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #ff8c00;
      --bg-dark: #0a0b10;
      --card-bg: #161b22;
      --text-main: #ffffff;
      --glass: rgba(255, 255, 255, 0.05);
      --whatsapp: #25D366;
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Poppins', sans-serif; }
    body { background: var(--bg-dark); color: var(--text-main); line-height: 1.6; overflow-x: hidden; }
    
    .navbar {
      background: rgba(10,11,16,0.9);
      backdrop-filter: blur(12px);
      padding: 12px 5%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      border-bottom: 1px solid var(--glass);
    }
    .nav-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }
    .nav-logo img {
      height: 45px;
      width: 45px;
      border-radius: 50%;
      border: 2px solid var(--primary);
      object-fit: cover;
    }
    .nav-logo span {
      color: var(--primary);
      font-weight: 800;
      font-size: 1.3rem;
    }
    
    .hero {
      height: 50vh;
      background: linear-gradient(rgba(0,0,0,0.6), var(--bg-dark)), url('/image/1.jpeg') center/cover no-repeat;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .hero h1 {
      font-size: 3.5rem;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 8px;
    }
    .hero p {
      font-size: 1.3rem;
      color: var(--primary);
      font-weight: 600;
    }
    
    .category-bar {
      display: flex;
      justify-content: center;
      gap: 12px;
      padding: 20px 5%;
      position: sticky;
      top: 70px;
      background: var(--bg-dark);
      z-index: 99;
      overflow-x: auto;
      white-space: nowrap;
    }
    .cat-btn {
      padding: 10px 22px;
      border-radius: 50px;
      border: 1px solid var(--glass);
      background: var(--card-bg);
      color: white;
      cursor: pointer;
      font-weight: 600;
    }
    .cat-btn.active {
      background: var(--primary);
      color: black;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 5%;
    }
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
      padding: 20px 0;
    }
    .food-card {
      background: var(--card-bg);
      border-radius: 24px;
      overflow: hidden;
      border: 1px solid var(--glass);
      transition: all 0.3s ease;
    }
    .food-card:hover {
      transform: translateY(-8px);
      border-color: var(--primary);
      box-shadow: 0 10px 30px rgba(255,140,0,0.2);
    }
    .food-card img {
      width: 100%;
      height: 220px;
      object-fit: cover;
    }
    .card-info {
      padding: 20px;
    }
    .price-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 15px;
    }
    .price {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--primary);
    }
    .add-btn {
      background: var(--primary);
      color: black;
      border: none;
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: 800;
      cursor: pointer;
      transition: 0.2s;
    }
    .add-btn:hover { background: #e07b00; }
    
    .cart-trigger {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 70px;
      height: 70px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      z-index: 1001;
      cursor: pointer;
    }
    .cart-trigger:hover { transform: scale(1.1); }
    .cart-count {
      position: absolute;
      top: -5px;
      right: -5px;
      background: white;
      color: black;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      font-weight: 800;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
    }
    
    .cart-sidebar {
      position: fixed;
      top: 0;
      right: -100%;
      width: 400px;
      height: 100%;
      background: var(--card-bg);
      z-index: 1002;
      transition: right 0.4s ease;
      padding: 30px;
      display: flex;
      flex-direction: column;
      border-left: 1px solid var(--glass);
    }
    .cart-sidebar.open { right: 0; }
    
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }
    .cart-item {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
      background: rgba(255,255,255,0.05);
      padding: 12px;
      border-radius: 12px;
      align-items: center;
    }
    .cart-item img {
      width: 60px;
      height: 60px;
      border-radius: 10px;
      object-fit: cover;
    }
    
    .address-input {
      width: 100%;
      background: var(--bg-dark);
      border: 1px solid var(--glass);
      padding: 14px;
      border-radius: 12px;
      color: white;
      margin: 20px 0;
      resize: none;
    }
    .checkout-btn {
      width: 100%;
      padding: 16px;
      background: var(--whatsapp);
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: 800;
      font-size: 1.1rem;
      cursor: pointer;
    }
    .checkout-btn:hover { background: #1ebe52; }
    
    footer {
      background: rgba(10,11,16,0.9);
      padding: 40px 5% 20px;
      text-align: center;
      border-top: 1px solid var(--glass);
      margin-top: 60px;
    }
    footer p {
      color: #aaa;
      font-size: 0.9rem;
    }
    
    @media (max-width: 768px) {
      .hero h1 { font-size: 2.5rem; }
      .cart-sidebar { width: 100%; }
    }
  </style>
</head>
<body>

  {{{body}}}

  <!-- Floating Cart Button -->
  <div class="cart-trigger" id="cart-trigger">
    <i class="fas fa-shopping-bag" style="font-size: 1.7rem; color: black;"></i>
    <div class="cart-count" id="cart-count">0</div>
  </div>

  <!-- Cart Sidebar -->
  <div class="cart-sidebar" id="cart-sidebar">
    <div class="cart-header">
      <h2>Your Order</h2>
      <i class="fas fa-times" id="close-cart" style="font-size:1.5rem; cursor:pointer;"></i>
    </div>
    <div id="cart-items-list" style="flex-grow:1; overflow-y:auto;"></div>
    <div>
      <div style="display:flex; justify-content:space-between; font-size:1.3rem; font-weight:800; margin:20px 0;">
        <span>Total:</span>
        <span id="cart-total" style="color:var(--primary);">₨0</span>
      </div>
      <textarea class="address-input" id="delivery-address" rows="4" placeholder="Enter your full address & phone number..."></textarea>
      <button class="checkout-btn" id="whatsapp-checkout">ORDER VIA WHATSAPP</button>
    </div>
  </div>

  <footer>
    <p>&copy; {{year}} Jee Bhai Cafe. All rights reserved.</p>
    <p>High Quality • Low Cost • Fast Delivery</p>
  </footer>

  <script>
    const menuData = {{{json menu}}};
    let cart = [];

    function renderMenu(type = 'all') {
      const grid = document.getElementById('menu-grid');
      if (!grid) return;
      grid.innerHTML = '';
      const items = type === 'all' ? menuData : menuData.filter(i => i.type === type);
      
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'food-card';
        card.innerHTML = `
          <img src="${item.image}" alt="${item.name}" onerror="this.src='https://placehold.co/400x300?text=${item.name}'">
          <div class="card-info">
            <h3 style="text-transform:uppercase;">${item.name}</h3>
            <div class="price-row">
              <span class="price">₨${item.price}</span>
              <button class="add-btn" onclick="addToCart(${item.id})">ADD +</button>
            </div>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    window.addToCart = function(id) {
      const item = menuData.find(x => x.id === id);
      if (item) {
        cart.push({ ...item, addedAt: Date.now() });
        updateCartUI();
      }
    };

    window.removeFromCart = function(index) {
      cart.splice(index, 1);
      updateCartUI();
    };

    function updateCartUI() {
      const countEl = document.getElementById('cart-count');
      const listEl = document.getElementById('cart-items-list');
      const totalEl = document.getElementById('cart-total');

      countEl.innerText = cart.length;

      let total = 0;
      listEl.innerHTML = '';
      cart.forEach((item, i) => {
        total += item.price;
        listEl.innerHTML += `
          <div class="cart-item">
            <img src="${item.image}" alt="${item.name}">
            <div style="flex-grow:1;">
              <div>${item.name}</div>
              <div style="color:var(--primary);font-weight:700;">₨${item.price}</div>
            </div>
            <i class="fas fa-trash" onclick="removeFromCart(${i})" style="color:#ff4444;cursor:pointer;font-size:1.2rem;"></i>
          </div>
        `;
      });
      totalEl.innerText = `₨${total}`;
    }

    // Event Listeners
    document.addEventListener('DOMContentLoaded', () => {
      renderMenu();

      document.querySelectorAll('.cat-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          renderMenu(btn.dataset.type);
        });
      });

      document.getElementById('cart-trigger').addEventListener('click', () => {
        document.getElementById('cart-sidebar').classList.add('open');
      });

      document.getElementById('close-cart').addEventListener('click', () => {
        document.getElementById('cart-sidebar').classList.remove('open');
      });

      document.getElementById('whatsapp-checkout').addEventListener('click', () => {
        if (cart.length === 0) return alert('Your cart is empty!');
        const address = document.getElementById('delivery-address').value.trim();
        if (!address) return alert('Please enter your address & phone number');

        let message = `*NEW ORDER - JEE BHAI CAFE*%0A%0A`;
        cart.forEach((item, i) => {
          message += `${i+1}. ${item.name} - ₨${item.price}%0A`;
        });
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        message += `%0A*Total:* ₨${total}%0A*Address & Phone:* ${address}%0A%0AThank you!`;

        const phone = '923410099882'; // Replace with your number
        const waUrl = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
        window.open(waUrl, '_blank');

        cart = [];
        updateCartUI();
        document.getElementById('cart-sidebar').classList.remove('open');
        document.getElementById('delivery-address').value = '';
      });
    });
  </script>
</body>
</html>